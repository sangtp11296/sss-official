{"ast":null,"code":"import _slicedToArray from\"C:/Users/sangt/OneDrive/Sang Shares Something/sss-official/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback,useEffect,useContext}from'react';import styles from'./ShareButton.module.css';import{Context}from'../../../../context/Context';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShareButton=function ShareButton(props){// const [edit, setEdit] = useState(false);\nvar _useContext=useContext(Context),user=_useContext.user;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var scrollDetect=useCallback(function(e){var window=e.currentTarget;// Này là làm hiện social media icon khi kéo xuống\nif(window.scrollY>=720){setVisible(true);}else{setVisible(false);}},[]);useEffect(function(){window.addEventListener('scroll',scrollDetect);return function(){window.removeEventListener('scroll',scrollDetect);};},[scrollDetect]);function fbShare(){var postUrl=encodeURI(document.location.href);// let postTitle = encodeURI('In the middle of the night i crawl onto your chest and purr gently to help you sleep');\nvar fbButton=document.querySelector('#fbBtn');fbButton.setAttribute('href',\"https://www.facebook.com/sharer.php?u=\".concat(postUrl));}function twShare(){var postUrl=encodeURI(document.location.href);var postTitle=encodeURI('In the middle of the night i crawl onto your chest and purr gently to help you sleep');var twButton=document.querySelector('#twBtn');twButton.setAttribute('href',\"https://twitter.com/share?url=\".concat(postUrl,\"&text=\").concat(postTitle));}function mailShare(){var postUrl=encodeURI(document.location.href);var postTitle=encodeURI('In the middle of the night i crawl onto your chest and purr gently to help you sleep');var mailButton=document.querySelector('#mailBtn');mailButton.setAttribute('href',\"'mailto:?subject=' . \".concat(postTitle,\" . '&body=Check out this site: '. \").concat(postUrl,\" .'\\\" title=\\\"Share by Email'\"));}function handleEdit(e){e.preventDefault();props.editCallBackProp(true);}function handleDelete(){props.deleteCallBackProp(true);}return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.shareButtonContainer,\" \").concat(visible?styles.visible:''),children:[/*#__PURE__*/_jsx(\"a\",{className:\"\".concat(styles.btn,\" \").concat(styles.fbButton),href:\" \",id:\"fbBtn\",onClick:fbShare,target:\"_blank\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook-f\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.quotes,\" \").concat(styles.fbQuotes),children:\"Share\"}),/*#__PURE__*/_jsx(\"a\",{className:\"\".concat(styles.btn,\" \").concat(styles.twButton),href:\" \",id:\"twBtn\",onClick:twShare,target:\"_blank\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-twitter\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.quotes,\" \").concat(styles.twQuotes),children:\"Tweet\"}),/*#__PURE__*/_jsx(\"a\",{className:\"\".concat(styles.btn,\" \").concat(styles.mailButton),href:\" \",id:\"mailBtn\",onClick:mailShare,target:\"_blank\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-envelope\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.quotes,\" \").concat(styles.mailQuotes),children:\"Mail\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.btn),href:\" \",id:\"mailBtn\",onClick:function onClick(){return window.scrollTo(0,0);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-paper-plane\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.quotes,\" \").concat(styles.topQuotes),children:\"To Top\"}),user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.btn,\" \").concat(styles.editButton),onClick:handleEdit,id:\"editBtn\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-pen-square\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.quotes,\" \").concat(styles.editQuotes),children:\"Edit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.btn,\" \").concat(styles.deleteButton),onClick:handleDelete,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash-alt\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styles.quotes,\" \").concat(styles.deleteQuotes),children:\"Delete\"})]}):null]});};export default ShareButton;","map":{"version":3,"sources":["C:/Users/sangt/OneDrive/Sang Shares Something/sss-official/client/src/components/Layout/PostContainer/ShareButton/ShareButton.js"],"names":["React","useState","useCallback","useEffect","useContext","styles","Context","ShareButton","props","user","visible","setVisible","scrollDetect","e","window","currentTarget","scrollY","addEventListener","removeEventListener","fbShare","postUrl","encodeURI","document","location","href","fbButton","querySelector","setAttribute","twShare","postTitle","twButton","mailShare","mailButton","handleEdit","preventDefault","editCallBackProp","handleDelete","deleteCallBackProp","shareButtonContainer","btn","quotes","fbQuotes","twQuotes","mailQuotes","scrollTo","topQuotes","editButton","editQuotes","deleteButton","deleteQuotes"],"mappings":"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","sourcesContent":["import React, { useState,useCallback,useEffect, useContext } from 'react'\r\nimport styles from './ShareButton.module.css'\r\nimport {Context} from '../../../../context/Context'\r\n\r\n\r\nconst ShareButton = (props) => {\r\n    // const [edit, setEdit] = useState(false);\r\n    const {user} = useContext(Context);\r\n    const [visible, setVisible] = useState(false);\r\n    const scrollDetect = useCallback(\r\n        (e) => {\r\n            const window = e.currentTarget;\r\n            // Này là làm hiện social media icon khi kéo xuống\r\n            if (window.scrollY >= 720){\r\n                setVisible(true);\r\n            } else {\r\n                setVisible(false);\r\n            }\r\n        },\r\n        [],\r\n    );\r\n    useEffect(() =>{\r\n        window.addEventListener('scroll', scrollDetect);\r\n        return () => {\r\n            window.removeEventListener('scroll', scrollDetect);\r\n        };\r\n    }, [scrollDetect]);\r\n\r\n    function fbShare() {\r\n        let postUrl = encodeURI(document.location.href);\r\n        // let postTitle = encodeURI('In the middle of the night i crawl onto your chest and purr gently to help you sleep');\r\n        const fbButton = document.querySelector('#fbBtn');\r\n        fbButton.setAttribute('href', `https://www.facebook.com/sharer.php?u=${postUrl}`);\r\n    }\r\n    function twShare() {\r\n        let postUrl = encodeURI(document.location.href);\r\n        let postTitle = encodeURI('In the middle of the night i crawl onto your chest and purr gently to help you sleep');\r\n        const twButton = document.querySelector('#twBtn');\r\n        twButton.setAttribute('href', `https://twitter.com/share?url=${postUrl}&text=${postTitle}`);\r\n    }\r\n    function mailShare() {\r\n        let postUrl = encodeURI(document.location.href);\r\n        let postTitle = encodeURI('In the middle of the night i crawl onto your chest and purr gently to help you sleep');\r\n        const mailButton = document.querySelector('#mailBtn');\r\n        mailButton.setAttribute('href', `'mailto:?subject=' . ${postTitle} . '&body=Check out this site: '. ${postUrl} .'\" title=\"Share by Email'`);\r\n    }\r\n\r\n    function handleEdit(e){\r\n        e.preventDefault()\r\n        props.editCallBackProp(true)\r\n    }\r\n    function handleDelete(){\r\n        props.deleteCallBackProp(true)\r\n    }\r\n    \r\n    return (\r\n        <div className={`${styles.shareButtonContainer} ${visible?styles.visible:''}`}>\r\n            <a className={`${styles.btn} ${styles.fbButton}`} href=' ' id=\"fbBtn\" onClick={fbShare} target=\"_blank\">\r\n                <i className=\"fab fa-facebook-f\"></i>\r\n            </a>\r\n            <div className={`${styles.quotes} ${styles.fbQuotes}`}>Share</div>\r\n            <a className={`${styles.btn} ${styles.twButton}`} href=' ' id=\"twBtn\" onClick={twShare} target=\"_blank\">\r\n                <i className=\"fab fa-twitter\"></i>\r\n            </a>\r\n            <div className={`${styles.quotes} ${styles.twQuotes}`}>Tweet</div>\r\n            <a className={`${styles.btn} ${styles.mailButton}`} href=' ' id=\"mailBtn\" onClick={mailShare} target=\"_blank\">\r\n                <i className=\"fa fa-envelope\"></i>\r\n            </a>\r\n            <div className={`${styles.quotes} ${styles.mailQuotes}`}>Mail</div>\r\n            <div className={`${styles.btn}`} href=' ' id=\"mailBtn\" onClick={()=>window.scrollTo(0, 0)}>\r\n                <i className=\"fas fa-paper-plane\"></i>\r\n            </div>\r\n            <div className={`${styles.quotes} ${styles.topQuotes}`}>To Top</div>\r\n            {user ? <>\r\n                        <div className={`${styles.btn} ${styles.editButton}`} onClick={handleEdit} id=\"editBtn\">\r\n                            <i className=\"fas fa-pen-square\"></i>\r\n                        </div>\r\n                        <div className={`${styles.quotes} ${styles.editQuotes}`}>Edit</div>\r\n                        <div className={`${styles.btn} ${styles.deleteButton}`} onClick={handleDelete}>\r\n                            <i className=\"fas fa-trash-alt\"></i>\r\n                        </div>\r\n                        <div className={`${styles.quotes} ${styles.deleteQuotes}`}>Delete</div>\r\n                    </> : null}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShareButton\r\n"]},"metadata":{},"sourceType":"module"}