{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/sangt/OneDrive/Sang Shares Something/sss-official/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/sangt/OneDrive/Sang Shares Something/sss-official/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import React,{useContext,useRef}from'react';import{Link}from'react-router-dom';import{Context}from'../../context/Context';import'./Login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(props){props.setWhiteHeaderCallback(true);var userRef=useRef();var passRef=useRef();var _useContext=useContext(Context),dispatch=_useContext.dispatch,isFetching=_useContext.isFetching;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();dispatch({type:\"LOGIN_START\"});_context.prev=2;_context.next=5;return axios.post('/auth/login',{username:userRef.current.value,password:passRef.current.value});case 5:res=_context.sent;dispatch({type:\"LOGIN_SUCCESS\",payload:res.data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);dispatch({type:\"LOGIN_FAILURE\"});case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"loginForm\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"span\",{className:\"loginTitle\",children:\"Login\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Account ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Welcome back!\",className:\"loginInput\",ref:userRef}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"loginInput\",ref:passRef}),/*#__PURE__*/_jsx(\"button\",{className:\"loginBtn\",type:\"submit\",disabled:isFetching,children:\"Login\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:/*#__PURE__*/_jsx(\"button\",{className:\"registerBtn\",children:\"Register\"})})]})});}export default Login;","map":{"version":3,"sources":["C:/Users/sangt/OneDrive/Sang Shares Something/sss-official/client/src/Pages/Account/Login.js"],"names":["axios","React","useContext","useRef","Link","Context","Login","props","setWhiteHeaderCallback","userRef","passRef","dispatch","isFetching","handleSubmit","e","preventDefault","type","post","username","current","value","password","res","payload","data"],"mappings":"qSAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,MAA5B,KAA0C,OAA1C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,OAAT,KAAwB,uBAAxB,CACA,MAAO,aAAP,C,wFAEA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CAClBA,KAAK,CAACC,sBAAN,CAA6B,IAA7B,EAEA,GAAMC,CAAAA,OAAO,CAAGN,MAAM,EAAtB,CACA,GAAMO,CAAAA,OAAO,CAAGP,MAAM,EAAtB,CACA,gBAAgCD,UAAU,CAACG,OAAD,CAA1C,CAAQM,QAAR,aAAQA,QAAR,CAAkBC,UAAlB,aAAkBA,UAAlB,CAEA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,0HACjBA,CAAC,CAACC,cAAF,GACAJ,QAAQ,CAAC,CAACK,IAAI,CAAC,aAAN,CAAD,CAAR,CAFiB,sCAIKhB,CAAAA,KAAK,CAACiB,IAAN,CAAW,aAAX,CAA0B,CACxCC,QAAQ,CAAET,OAAO,CAACU,OAAR,CAAgBC,KADc,CAExCC,QAAQ,CAAEX,OAAO,CAACS,OAAR,CAAgBC,KAFc,CAA1B,CAJL,QAIPE,GAJO,eAQbX,QAAQ,CAAC,CAACK,IAAI,CAAC,eAAN,CAAuBO,OAAO,CAAED,GAAG,CAACE,IAApC,CAAD,CAAR,CARa,+EAUbb,QAAQ,CAAC,CAACK,IAAI,CAAC,eAAN,CAAD,CAAR,CAVa,oEAAH,kBAAZH,CAAAA,YAAY,4CAAlB,CAaA,mBACI,YAAK,SAAS,CAAC,OAAf,uBACI,cAAM,SAAS,CAAC,WAAhB,CAA4B,QAAQ,CAAEA,YAAtC,wBACI,aAAM,SAAS,CAAC,YAAhB,mBADJ,cAEI,qCAFJ,cAGI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,eAA/B,CAA+C,SAAS,CAAC,YAAzD,CAAsE,GAAG,CAAEJ,OAA3E,EAHJ,cAII,mCAJJ,cAKI,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,YAAjC,CAA8C,GAAG,CAAEC,OAAnD,EALJ,cAMI,eAAQ,SAAS,CAAC,UAAlB,CAA6B,IAAI,CAAC,QAAlC,CAA2C,QAAQ,CAAEE,UAArD,mBANJ,cAOI,8CAPJ,cAQI,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,uBACI,eAAQ,SAAS,CAAC,aAAlB,sBADJ,EARJ,GADJ,EADJ,CAgBH,CACD,cAAeN,CAAAA,KAAf","sourcesContent":["import axios from 'axios';\r\nimport React, { useContext, useRef } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Context } from '../../context/Context';\r\nimport './Login.css'\r\n\r\nfunction Login(props) {\r\n    props.setWhiteHeaderCallback(true);\r\n\r\n    const userRef = useRef();\r\n    const passRef = useRef();\r\n    const { dispatch, isFetching} = useContext(Context)\r\n\r\n    const handleSubmit = async (e)=> {\r\n        e.preventDefault();\r\n        dispatch({type:\"LOGIN_START\"});\r\n        try{\r\n            const res = await axios.post('/auth/login', {\r\n                username: userRef.current.value,\r\n                password: passRef.current.value\r\n            })\r\n            dispatch({type:\"LOGIN_SUCCESS\", payload: res.data})\r\n        }catch(err){\r\n            dispatch({type:\"LOGIN_FAILURE\"})\r\n        }\r\n    }\r\n    return (\r\n        <div className='login'>\r\n            <form className='loginForm' onSubmit={handleSubmit}>\r\n                <span className=\"loginTitle\">Login</span>\r\n                <label>Account ID</label>\r\n                <input type='text' placeholder='Welcome back!' className='loginInput' ref={userRef}></input>\r\n                <label>Password</label>\r\n                <input type='password' className='loginInput' ref={passRef}></input>\r\n                <button className='loginBtn' type='submit' disabled={isFetching}>Login</button>\r\n                <h5>Don't have an account?</h5>\r\n                <Link to='/register'>\r\n                    <button className='registerBtn'>Register</button>\r\n                </Link>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default Login"]},"metadata":{},"sourceType":"module"}